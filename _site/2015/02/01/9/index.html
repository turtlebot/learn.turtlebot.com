<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Teleoperation</title>
  <meta name="description" content="Teleoperation allows you to manually control TurtleBot. Keyboard and joystick are the two primary ways to do this. Before we experiment with these two method...">

  <link rel="stylesheet" href="/turtlebot-tutorial/css/main.css">
  <link rel="canonical" href="/turtlebot-tutorial/turtlebot-tutorial/2015/02/01/9/">
  <link rel="alternate" type="application/rss+xml" title="Learn TurtleBot and ROS" href="/turtlebot-tutorial/turtlebot-tutorial/feed.xml" />

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="/turtlebot-tutorial/js/jquery.fitvids.js"></script>
  <script>
	$(document).ready(function() {
		$(".video_container").fitVids();
	});
  </script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/turtlebot-tutorial/">Learn TurtleBot and ROS</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/turtlebot-tutorial/about/">About</a>
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">


  <header class="post-header">
    <h1 class="post-title">Teleoperation</h1>
  </header>

<div class="page-navigation"> 
        
         
				<div class="left"> 
                <a href="/turtlebot-tutorial/2015/02/01/8/" title="Previous Post: 
Testing Kinect">&laquo; Testing Kinect</a> 
				</div>
         
         

        <div class="right"> 
         
                <a href="/turtlebot-tutorial/2015/02/01/10/" title="next Post: 
Writing Your First Script">Writing Your First Script &raquo; </a> 
         
        </div> 
        <div class="clear">&nbsp;</div> 
</div>


  <article class="post-content">
    <p>Teleoperation allows you to manually control TurtleBot. Keyboard and joystick are the two primary ways to do this. Before we experiment with these two methods, we need to set up TurtleBot to receive our commands.</p>

<p>On TurtleBot run:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">roslaunch turtlebot_bringup minimal.lauch</code></pre></div>

<p>Now it’s ready to receive commands from the workstation.</p>

<h2 id="keyboard">Keyboard</h2>

<p>To use the keyboard for teleoperation, run the following on the workstation:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">roslaunch turtlebot_teleop keyboard_teleop.launch</code></pre></div>

<p>The terminal prints out the keyboard commands for manually controlling TurtleBot’s position, rotation and more.</p>

<div style="margin-bottom: 1.5em;">
	
	<div class="video_container" style="background-color: #eef; border-radius: 3px;"><iframe width="700" height="393" src="https://www.youtube.com/embed/BfpXhVCLosY?rel=0&amp;showinfo=0" style=" border:0;" allowfullscreen=""></iframe></div>
</div>

<h2 id="joystick">Joystick</h2>

<p>By default TurtleBot works with Logitech joysticks but there’s a “gotcha” – they use a “deadman” button which must be held down at all times while operating the joystick, otherwise nothing will happen.</p>

<p>So why is there a deadman axis button? Your joystick may not be perfectly centered when you start the launch file and TurtleBot may start moving slightly if a deadman axis wasn’t enforced.</p>

<h4 id="updating-the-deadman-axis-button">Updating the Deadman Axis Button</h4>

<p>When we first set up the joystick, the default button was #5 which wasn’t ideal for us. It’s possible that your joystick doesn’t even have a button #5, so we needed to change it.</p>

<p>The first thing to figure out is which buttons correspond to which numbers. In a terminal window run:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">jstest /dev/input/js0</code></pre></div>

<p>Note that on the left are the axes and on the right are the buttons. When you press down each button, the corresponding number will change from off to on. Experiment until you find the best button for your joystick; we chose #0, which is the primary trigger button on our joystick.</p>

<div style="margin-bottom: 1.5em;">
	
	<div class="video_container" style="background-color: #eef; border-radius: 3px;"><iframe width="700" height="393" src="https://www.youtube.com/embed/J7zqPiDh4BQ?rel=0&amp;showinfo=0" style=" border:0;" allowfullscreen=""></iframe></div>
</div>

<p>Now that you’ve selected which button you want to be your deadman axis, let’s make a new custom launch file. Navigate to the folder where logitech.launch is located and make a copy that we can edit by running:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">roscd turtlebot_teleop/launch/
cp logitech.launch myjoystick.launch
gedit myjoystick.launch</code></pre></div>

<p><em><strong>TIP:</strong> Notice roscd is similar to cd (change directory) but is configured to automatically find the correct location’s ROS file. This is much more convenient than typing out cd ~/turtlebot/src/turtlebot_apps/turtlebot_teleop/launch</em></p>

<p>In the text editor go to the line immediately after:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;scale_linear&quot;</span> <span class="na">value=</span><span class="s">&quot;0.5&quot;</span> <span class="nt">/&gt;</span></code></pre></div>

<p>and add a new line if the axis_deadman doesn’t exist yet:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">&quot;axis_deadman&quot;</span> <span class="na">value=</span><span class="s">&quot;0&quot;</span> <span class="nt">/&gt;</span></code></pre></div>

<p>This will set our deadman axis to #0 and you should type in your chosen button value. Save and exit the editor.</p>

<p>Open a new terminal window and start teleoperation with our new launch file:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">roslaunch turtlebot_teleop myjoystick.launch</code></pre></div>

<div style="margin-bottom: 1.5em;">
	
	<div class="video_container" style="background-color: #eef; border-radius: 3px;"><iframe width="700" height="393" src="https://www.youtube.com/embed/EjkEoZEUnz4?rel=0&amp;showinfo=0" style=" border:0;" allowfullscreen=""></iframe></div>
</div>

<p>There are other values that can be customized, but at the time of this writing an Indigo specific ROS article wasn’t available. You can see these values on the <a href="http://wiki.ros.org/turtlebot_teleop/Tutorials/indigo/Joystick%20Teleop">joystick ROS wiki page</a>.</p>

<p>Teleoperation via joystick in your office, home, etc:</p>

<div style="margin-bottom: 1.5em;">
	
	<div class="video_container" style="background-color: #eef; border-radius: 3px;"><iframe width="700" height="393" src="https://www.youtube.com/embed/3Q-tbrb2l4A?rel=0&amp;showinfo=0" style=" border:0;" allowfullscreen=""></iframe></div>
</div>

<h2 id="learn-more-at-wikirosorg">Learn more at wiki.ros.org</h2>

<ul>
  <li><a href="http://wiki.ros.org/Robots/TurtleBot#turtlebot.2BAC8-Tutorials.2BAC8-indigo.Teleoperation">Teleoperation</a></li>
</ul>

  </article>

</div>

<div class="page-navigation"> 
		<hr>
		<div class="page-navigation-title">Keep Reading</div>
        <div class="clear">&nbsp;</div> 
        
         
				<div class="left"> 
                <a href="/turtlebot-tutorial/2015/02/01/8/" title="Previous Post: 
Testing Kinect">&laquo; Testing Kinect</a> 
				</div>
         

        <div class="right"> 
         
                <a href="/turtlebot-tutorial/2015/02/01/10/" title="next Post: 
Writing Your First Script">Writing Your First Script &raquo; </a> 
         
        </div> 
        <div class="clear">&nbsp;</div> 
</div>
      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <!--<h2 class="footer-heading">Learn TurtleBot and ROS</h2>-->
	<div style="margin-bottom:1.5em;">
	<h4><a href="https://groups.google.com/forum/#!forum/ros-sig-turtlebot" target="_blank">Questions / comments?  Post them on TurtleBot's Group</a></h4>
	</div>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Learn TurtleBot and ROS</li>
          <li><a href="mailto:mwsilliman@gmail.com">mwsilliman@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/markwsilliman">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">markwsilliman</span>
            </a>
          </li>
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">An open source getting started guide for web, mobile and maker developers interested in robotics.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
